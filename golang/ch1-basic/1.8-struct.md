## 1.8 Struct & method

### 声明

```
type person struce {
    name string
    age int
}

var p person

// 按照顺序提供初始化值
var p1 = person{"abc", 2}

// 使用 field:value 的方式初始化，可以任意顺序
var p2 = person{name: "sdf", age: 2}

// 使用 new 函数分配一个指针， p 为 *person 类型
var p = new(person)
```


### 匿名字段（也称嵌入字段）

#### xx

method 的接收者可以是值或者指针，而且值和指针可以随意改变，对调用方式没有影响，只是对调用后的结果可能造成不同的影响。
“值/指针接收者均可接收值/指针”

* 值类型调用值接收者：直接用  
* 值类型调用指针接收者：会先取地址，然后再调用  
* 指针类型调用值接收者：会先取值，然后再调用  
* 指针类型调用指针接收者：直接用  

#### xx

为 struct 定义的方法必须放在同一个包里，可以是不同的文件

#### xx

一个 nil 是可以调用方法的，不会 crash ，但是需要在方法内部处理为 nil 的情况。但是 Java 不一样，null 调用方法就直接 crash 了